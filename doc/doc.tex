% use koma script classes
% \documentclass[12pt]{scrartcl}
% \documentclass[11pt,a4paper]{article}
%\documentclass[11pt]{scrartcl}
\documentclass[
	12pt,
	table,
	bigheadings,
	ngerman,
	a4paper,
	BCOR5mm,
	DIV14,
	1.1headlines,
	pagesize,
	oneside,
	openright,
	titlepage,
	headsepline,
	nochapterprefix,
	bibtotoc,
	tocindent,
	listsindent,
	pointlessnumbers,
	cleardoubleempty,
	fleqn,
	halfparskip
]{scrbook}
\usepackage[table]{xcolor}


\usepackage[datesep=--,showzoneminutes=false,showzone=false]{datetime2}


\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{ragged2e}

\usepackage[german]{babel}
\usepackage[autostyle=true,german=quotes]{csquotes}

\usepackage{pgfplots}
\usepackage{ulem}
\usepackage{placeins}
\usepackage{wrapfig}
\usepackage{xcolor}


%\usepgfplotslibrary{fillbetween}

%\usepackage{tikz-uml}
\usepackage{float}
\usepackage{tabularx}

% required for nicer footer / header
\usepackage{fancyhdr}

\usepackage[backend=bibtex,style=numeric-comp]{biblatex}
\usepackage[colorlinks=true]{hyperref}
\usepackage{minted}

\addbibresource{rust.bib}
\addbibresource{general.bib}


%
% git related things
%
\renewcommand{\date}{\ifthenelse{\equal{\gitDirtyValue}{\gitDirty}}{\today}{\printdate{\gitAuthorDate}}}

\newcommand{\gitDirtyValue}{+}
\immediate\write18{/bin/bash update_git_info.sh}
\usepackage[mark,grumpy,dirty=\gitDirtyValue]{gitinfo2}
\immediate\write18{/bin/bash -c "rm .git/gitHeadInfo.gin"}
\renewcommand{\gitMark}{\gitBranch\,@\,\gitAbbrevHash{}
	%\gitReln{} (
	%	\gitAuthorDate
	%)
	%	Head tags: \gitTags
	\textbullet{} \date
}




%\usepackage{listings}             % for code snippets
\usepackage{isodate}
\usepackage{pdfpages} % to include pdfs
\usepackage[acronym,automake]{glossaries}

% better header for acronyms
%\addto\captionsngerman{\renewcommand*\acronymname{Abkürzungsverzeichnis}}

%required for linebreak inside tabel cells
\usepackage{makecell}

\definecolor{codeBackground}{rgb}{.95,0.95,0.95}

\newcommand{\todo}[1]{\textcolor{red}{TODO: #1}}

\usemintedstyle{tango}
\newenvironment{rustc}
	{\VerbatimEnvironment\begin{minted}[autogobble,bgcolor=codeBackground,linenos=true,tabsize=4]{rust}}
	{\end{minted}}

\include{gloassary}

\glsaddall
\makeglossaries

\defglsdisplayfirst[main]{\glsentryname{\glslabel}\protect\footnote{\glsentrydesc{\glslabel}}}

\newacronym{poc}{POC}{\underline{P}roof \underline{o}f \underline{c}oncept \todo{...}}
\newacronym{swh}{SWH}{\underline{S}emester \underline{W}eekly \underline{H}ours}
	
\begin{document}
	
	\include{titlepage}
	\include{legal}
	\include{declaration}
	\include{thanks}
	\include{fancy_quote}
	
	\thispagestyle{empty}
	
	\pagenumbering{roman}
	\setcounter{page}{0}
	
	\clearpage	
	\hypersetup{allcolors=black}
	\tableofcontents
	\hypersetup{allcolors=blue}
	\newpage
	
	
	\pagenumbering{arabic}
	\setcounter{page}{1}
	
	\include{sections/intro}
	\include{sections/rust}

	
	\chapter{Stand der Technik (c++ Version)}
		\section{Hochperformant -> parallel?}
		\section{Serverbasierte Kommunikationsplattform}
		\section{Low-Latency + Entwurfsmuster + Patterns? + Algorithmen?}
		\section{ASN.1}
		\section{PER}
		\section{MEC-View Server und Umgebung}
		
	
	\chapter{Anforderungen}
		\section{Funktionale Anforderungen}
		\section{Nichtfunktionale Anforderungen}
		\section{Kein Protobuf weil}
	
	\chapter{Systemanalyse}
		\section{Systemkontextdiagramm}
		\section{Schnitstellenanalyse}
		\section{C++ Referenzsystem}
		
	\chapter{Systementwurf}
		\section{Änderungen bedingt durch Rust}
	
	\chapter{Implementierung}
	\chapter{Auswertung}
	\chapter{Zusammenfassung und Fazit}
	
	
	
	\pagenumbering{Roman}
	
	\clearpage
	\addcontentsline{toc}{section}{Literatur}
	\printbibliography
	
	\clearpage
	\addcontentsline{toc}{section}{List of abbreviations}
	\printglossaries

	\clearpage
	\listoffigures
	
	
\end{document}

\makeglossaries